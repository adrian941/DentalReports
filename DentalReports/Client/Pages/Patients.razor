@page "/"
@inject AuthenticationStateProvider _authenticationStateProvider
@inject NavigationManager _navigationManager


<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.
 <br/> 

@code {
    protected override async Task OnInitializedAsync()
    {
        var authState = await _authenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;

        if (!user.Identity!.IsAuthenticated)
        {
            _navigationManager.NavigateTo("/Identity/Account/Login", true);

        }
    }
}